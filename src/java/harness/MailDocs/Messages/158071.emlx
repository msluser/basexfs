8867
Return-Path: <fuse-devel-bounces@lists.sourceforge.net>
Received: from uni-konstanz.de ([unix socket])
	 by uni-konstanz.de (Cyrus v2.3.16) with LMTPA;
	 Tue, 12 Jul 2011 12:04:43 +0200
X-Sieve: CMU Sieve 2.3
Received: from pyrimidin.rz.uni-konstanz.de (pyrimidin.rz.uni-konstanz.de [134.34.240.46])
	by uni-konstanz.de (Postfix) with ESMTP id 1138812901
	for <alexander.holupirek@uni-konstanz.de>; Tue, 12 Jul 2011 12:04:43 +0200 (CEST)
Received: from titan01.inf.uni-konstanz.de ([134.34.57.71])
  by unitis.rz.uni-konstanz.de with ESMTP; 12 Jul 2011 10:04:43 +0000
Received: by titan01.inf.uni-konstanz.de (INF MTA)
	id E6E534D65C; Tue, 12 Jul 2011 12:04:42 +0200 (CEST)
Delivered-To: holupire@inf.uni-konstanz.de
Received: from purin.rz.uni-konstanz.de (purin.rz.uni-konstanz.de [134.34.240.45])
	by titan01.inf.uni-konstanz.de (INF MTA) with ESMTP id CE4B2423CA
	for <holupire@inf.uni-konstanz.de>; Tue, 12 Jul 2011 12:04:42 +0200 (CEST)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Ai0AALYbHE7YIrVYkWdsb2JhbABTl3APjkZoFAEBAQEJCwsHFAUgiHoCsViHIokohjoEhyIviQCHCiaENYcR
Received: from lists.sourceforge.net ([216.34.181.88])
  by mailin.uni-konstanz.de with ESMTP; 12 Jul 2011 10:04:42 +0000
Received: from localhost ([127.0.0.1] helo=sfs-ml-2.v29.ch3.sourceforge.com)
	by sfs-ml-2.v29.ch3.sourceforge.com with esmtp (Exim 4.76)
	(envelope-from <fuse-devel-bounces@lists.sourceforge.net>)
	id 1QgZoO-00042S-4o; Tue, 12 Jul 2011 10:03:28 +0000
Received: from sog-mx-2.v43.ch3.sourceforge.com ([172.29.43.192]
	helo=mx.sourceforge.net)
	by sfs-ml-2.v29.ch3.sourceforge.com with esmtp (Exim 4.76)
	(envelope-from <pa4wdh@yahoo.com>) id 1QgZoM-00042K-SC
	for fuse-devel@lists.sourceforge.net; Tue, 12 Jul 2011 10:03:26 +0000
X-ACL-Warn: 
Received: from nm14-vm0.bullet.mail.ac4.yahoo.com ([98.139.52.234])
	by sog-mx-2.v43.ch3.sourceforge.com with smtp (Exim 4.76)
	id 1QgZoH-0005EM-HW
	for fuse-devel@lists.sourceforge.net; Tue, 12 Jul 2011 10:03:26 +0000
Received: from [98.139.52.190] by nm14.bullet.mail.ac4.yahoo.com with NNFMP;
	12 Jul 2011 10:03:16 -0000
Received: from [98.139.52.131] by tm3.bullet.mail.ac4.yahoo.com with NNFMP;
	12 Jul 2011 10:03:16 -0000
Received: from [127.0.0.1] by omp1014.mail.ac4.yahoo.com with NNFMP;
	12 Jul 2011 10:03:16 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 263317.53197.bm@omp1014.mail.ac4.yahoo.com
Received: (qmail 30681 invoked by uid 60001); 12 Jul 2011 10:03:15 -0000
X-YMail-OSG: J99nInIVM1ksc3Ln4UTSUdOVSUPr.30UmFmROAUaSUqgh.u
	7crwA77YLcrrmSeZyk8X2ElIHeGP63Tz9aQLGRSu6cBX0Dw5AwKqsKhexX1A
	lu4ZEkMEaNbpCRDFM0K9juDbHAh76Fiq4CZ0rvfSbKTWHU2pF6Bf8LF5TFfp
	dsG8Z8SuJU2x5azX.TQ.qSh.HsGT9HE3ZWqynFxvlZ8UMkR3nE.WGEI8OzG5
	YMQ.PyCdZD0wFl_WDA9UsTN7vhN5q5VptGx37k7BHWRE7z8L.bwecMz6x0pM
	SDEgzfWj6Iecg8GrS4Xo3B3UJuSpC24TixT8rjw4Qa1NXF4ryoDNoe50USd7
	ccA2zWK0GOKrdgq.EfcgAHHdvRekQhvC5q.AQClNNnuBP.bVEmLYU1wv1ndz
	J5ODXAy1kU7A6STGsOpIK33qefR0SX96xd0ELXuRsZHcB.eZiTCPoXAa5hpk
	w.71VmB3BJZmzIN_ES4nh
Received: from [213.84.93.147] by web39410.mail.mud.yahoo.com via HTTP;
	Tue, 12 Jul 2011 03:03:15 PDT
X-Mailer: YahooMailClassic/14.0.3 YahooMailWebService/0.8.112.307740
Message-ID: <1310464995.24019.YahooMailClassic@web39410.mail.mud.yahoo.com>
Date: Tue, 12 Jul 2011 03:03:15 -0700 (PDT)
From: Wesley PA4WDH <pa4wdh@yahoo.com>
To: fuse-devel@lists.sourceforge.net
In-Reply-To: <CANXojcyXqMyRxBcMMxKZwgh49jSQr6XePyvZMo1cXL7LLDW+4A@mail.gmail.com>
MIME-Version: 1.0
X-Spam-Score: -0.1 (/)
X-Spam-Report: Spam Filtering performed by mx.sourceforge.net.
	See http://spamassassin.org/tag/ for more details.
	0.0 FREEMAIL_FROM Sender email is commonly abused enduser mail provider
	(pa4wdh[at]yahoo.com)
	-0.0 T_RP_MATCHES_RCVD Envelope sender domain matches handover relay
	domain
	-0.0 RCVD_IN_DNSWL_NONE RBL: Sender listed at http://www.dnswl.org/,
	no trust [98.139.52.234 listed in list.dnswl.org]
	-0.1 DKIM_VALID_AU Message has a valid DKIM or DK signature from
	author's domain
	0.1 DKIM_SIGNED            Message has a DKIM or DK signature,
	not necessarily valid
	-0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
	0.0 T_TO_NO_BRKTS_FREEMAIL To: misformatted and free email service
	0.0 AWL AWL: From: address is in the auto white-list
X-Headers-End: 1QgZoH-0005EM-HW
Subject: Re: [fuse-devel] Understanding debug output
X-BeenThere: fuse-devel@lists.sourceforge.net
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: <fuse-devel.lists.sourceforge.net>
List-Unsubscribe: <https://lists.sourceforge.net/lists/listinfo/fuse-devel>,
	<mailto:fuse-devel-request@lists.sourceforge.net?subject=unsubscribe>
List-Archive: <http://sourceforge.net/mailarchive/forum.php?forum_name=fuse-devel>
List-Post: <mailto:fuse-devel@lists.sourceforge.net>
List-Help: <mailto:fuse-devel-request@lists.sourceforge.net?subject=help>
List-Subscribe: <https://lists.sourceforge.net/lists/listinfo/fuse-devel>,
	<mailto:fuse-devel-request@lists.sourceforge.net?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Errors-To: fuse-devel-bounces@lists.sourceforge.net

Hi Stef,

Thanks for your answer. I'm aware of malloc and i'm using it more than is g=
ood for me :-)
However, i don't understand how i can get a malloc error from a function th=
at only uses a return;.

For your information:
"simread" is the name of my program, because when i started it was used to =
... well ... read sim cards :-) The FUSE calls have been named with a scfs_=
 prefix (SmartCardFS), so scfs_read, scfs_readdir, etc. They use memory str=
uctures filled by the rest of the program.

Best regards,
Wesley



--- On Tue, 7/12/11, Stef Bon <stefbon@gmail.com> wrote:

> From: Stef Bon <stefbon@gmail.com>
> Subject: Re: [fuse-devel] Understanding debug output
> To: "Wesley PA4WDH" <pa4wdh@yahoo.com>
> Cc: fuse-devel@lists.sourceforge.net
> Date: Tuesday, July 12, 2011, 11:49 AM
> Hi Wesley,
> =

> the init function is always called first, before any other
> call. See:
> =

> http://fuse.sourceforge.net/doxygen/structfuse__lowlevel__ops.html#b6fa0b=
9edb5b002cd1502c969c887329
> =

> so yes it's processing your init function.
> =

> About the malloc function, this has anything to dio with
> memory
> allocation. Every program needs this.
> So you're program is using this also.
> =

> If you want to have more debug info, build in some
> functions in your fs like:
> =

> syslog(LOG_DEBUG, "message....")
> =

> the syntax is simular like that of sprintf.
> =

> Is your fs sot somehwere calling simread?? it should.
> Somewhere in main?
> =

> Stef
> =

> 2011/7/12 Wesley PA4WDH <pa4wdh@yahoo.com>:
> > Hi All,
> >
> > I got my FS to run in debug mode, but now i don't
> really understand the debug output :-)
> >
> > The output (just before a it exist unexpectedly) is:
> > FUSE library version: 2.8.5
> > nullpath_ok: 0
> > unique: 1, opcode: INIT (26), nodeid: 0, insize: 56
> > simread: malloc.c:3097: sYSMALLOc: Assertion `(old_top
> =3D=3D (((mbinptr) (((char *) &((av)->bins[((1) - 1) *
> 2])) - __builtin_offsetof (struct malloc_chunk, fd))))
> && old_size =3D=3D 0) || ((unsigned long) (old_size)
> >=3D (unsigned long)((((__builtin_offsetof (struct
> malloc_chunk, fd_nextsize))+((2 * (sizeof(size_t))) - 1))
> & ~((2 * (sizeof(size_t))) - 1))) &&
> ((old_top)->size & 0x1) && ((unsigned
> long)old_end & pagemask) =3D=3D 0)' failed.
> > Aborted
> >
> > Does "opcode: INIT" mean it's running my init function
> ?
> > What i don't really understand is the malloc error,
> because my init function does not use malloc:
> >
> > void *scfs_init(struct fuse_conn_info *conn)
> > {
> > =A0return NULL;
> > }
> >
> > Do you have any clues ?
> >
> > Thanks in advance.
> >
> > Best regards,
> > Wesley
> >
> >
> -------------------------------------------------------------------------=
-----
> > All of the data generated in your IT infrastructure is
> seriously valuable.
> > Why? It contains a definitive record of application
> performance, security
> > threats, fraudulent activity, and more. Splunk takes
> this data and makes
> > sense of it. IT sense. And common sense.
> > http://p.sf.net/sfu/splunk-d2d-c2
> > _______________________________________________
> > fuse-devel mailing list
> > fuse-devel@lists.sourceforge.net
> > https://lists.sourceforge.net/lists/listinfo/fuse-devel
> >
> =


---------------------------------------------------------------------------=
---
All of the data generated in your IT infrastructure is seriously valuable.
Why? It contains a definitive record of application performance, security =

threats, fraudulent activity, and more. Splunk takes this data and makes =

sense of it. IT sense. And common sense.
http://p.sf.net/sfu/splunk-d2d-c2
_______________________________________________
fuse-devel mailing list
fuse-devel@lists.sourceforge.net
https://lists.sourceforge.net/lists/listinfo/fuse-devel
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>color</key>
	<string>000000</string>
	<key>date-sent</key>
	<real>1310464995</real>
	<key>flags</key>
	<integer>261248</integer>
	<key>original-mailbox</key>
	<string>imap://alexander.holupirek@popserver.uni-konstanz.de/INBOX</string>
	<key>sender</key>
	<string>Wesley PA4WDH &lt;pa4wdh@yahoo.com&gt;</string>
	<key>subject</key>
	<string>Re: [fuse-devel] Understanding debug output</string>
	<key>to</key>
	<string>fuse-devel@lists.sourceforge.net</string>
</dict>
</plist>
